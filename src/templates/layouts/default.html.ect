<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>

        <!-- Standard Meta -->
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- Site Properities -->
        <title><%= @getPreparedTitle() %></title>
        <meta name="description" content="<%= @getPreparedDescription() %>" />
        <meta name="keywords" content="<%= @getPreparedKeywords() %>" />
        <meta name="google-site-verification" content="V2GfldsIqa0sZB3JNGexrZGI8xHcIiAJAZbaRseKTIg" />
        
        <!-- Social Media Properties -->
        <meta property="og:title" content="<%= @getPreparedSocialDescription(false) %>" />
        <meta property="og:type" content="article" />
        <meta property="og:description" content="<%= @getPreparedDescription() %>" />
        
        <% if @document.image: %>
        <meta property="og:image" content="<%= @site.url %><%= @document.image %>" />
        <% end %>

        <link rel="icon"  type="image/png" href="/images/favicon.png">

        <!-- Meta -->
        <%- @getBlock('meta').toHTML() %>

        <!-- Styles -->
        <%- @getBlock('styles').add(@getGruntedStyles()).toHTML() %>

        <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,400italic,500,700,700italic' rel='stylesheet' type='text/css'>

    </head>
    <body>

        <noscript>
            <div id="noscript-warning">
                <h2>JavaScript Recommended</h2>
                <p>
                    Some of the functionality on this website relies on JavaScript
                    to be enabled. Your experience will unfortunately be negatively
                    affected if you do not use JavaScript.
                </p>
            </div>
        </noscript>

        <script type="text/javascript">
            document.body.classList.remove("no-js")
        </script>

        <!-- Main Container -->
        <div id="container" class="container-<%= @document.basenameOrig or @document.basename %>">
            <a name="top"></a>
            <%- @partial('layouts/header.html.ect', @) %>

            <div id="content" class="document-<%= @document.basenameOrig or @document.basename %>
                                     <%= 'sidebar' unless ! @document.sidebar %>
                                     <%= @document.classNames %>">

                <% if @document.trail: %>
                <ul class="trail">
                    <% for item in @document.trail: %>
                    <li>
                        <% if typeof item is "string": %>
                            <%= item %>
                        <% else: %>
                            <a href="<%= @site.url %><%= item[0] %>"><%= item[1] %></a>
                        <% end %>
                    </li>
                    <% end %>
                </ul>
                <% end %>

                <section role="main">
                <%- @partial('articles/' + (@document.articleTemplate || 'article') + '.html', @) %>
                </section>
                <% if @document.sidebar: %>
                <aside class="sidebar-<%= @document.sidebar %> normalize">
                    <div id="side-border"></div>
                    <button id="side-collapse" class="button big">
                        <i class="icon icon-chevron-left"></i>
                        <i class="icon icon-chevron-right"></i>
                    </button>
                    <div class="inner">
                        <%- @partial('sidebars/' + @document.sidebar, @) %>
                    </div>
                </aside>
                <% end %>
            </div>
            <div id="footer_push"></div>
        </div>

        <!-- Analytics -->
        <% if docpad.getEnvironment() is 'static': %>

        <!-- AS.com -->
        <script type="text/javascript">
        var _gaq = _gaq || [];
        var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
        _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
        _gaq.push(['_setAccount', 'UA-20072-24']);
        _gaq.push(['_setDomainName', '.komodoide.com']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_setAllowHash', false]);
        _gaq.push(['_trackPageview']);
        (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async =
        true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

        </script>

        <!-- KIDE -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','_gak');

          _gak('create', 'UA-47685083-1', 'auto');
          _gak('require', 'linkid', 'linkid.js');
          // pageview is handled in scripts.js

        </script>

        <!-- Adwords -->
        <script type="text/javascript">
        /* <![CDATA[ */
        var google_conversion_id = 1071420929;
        var google_custom_params = window.google_tag_params;
        var google_remarketing_only = true;
        /* ]]> */
        </script>
        <script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">
        </script>
        <noscript>
        <div style="display:inline;">
        <img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1071420929/?value=0&amp;guid=ON&amp;script=0"/>
        </div>
        </noscript>

        <!-- Clicky -->
        <script type="text/javascript">
        var clicky_site_ids = clicky_site_ids || [];
        clicky_site_ids.push(100751147);
        (function() {
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.async = true;
          s.src = '//static.getclicky.com/js';
          ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
        })();
        </script>
        <noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100751147ns.gif" /></p></noscript>

        <% end %>

        <!-- Marketo -->
        <script type="text/javascript">
        (function() {
          var didInit = false;
          function initMunchkin() {
            if(didInit === false) {
              didInit = true;
              Munchkin.init('894-ACS-622');
            }
          }
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.async = true;
          s.src = '//munchkin.marketo.net/munchkin.js';
          s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
              initMunchkin();
            }
          };
          s.onload = initMunchkin;
          document.getElementsByTagName('head')[0].appendChild(s);
        })();
        </script>

        <!-- Footer -->
        <footer>
            <div class="columns">
                <div class="navigation">
                    <h3>Navigation</h3>
                    <%- @getAsList(@db.footer().nav.navigation) %>
                </div>
                <div class="support">
                    <h3>Support</h3>
                    <%- @getAsList(@db.footer().nav.support) %>

                    <h3>ActiveState</h3>
                    <%- @getAsList(@db.footer().nav.activestate) %>
                </div>
                <div class="communicate">
                    <%- @getAsList(@db.footer().nav.social, "social") %>

                    <p>&nbsp;</p>
                    <a href="https://twitter.com/KomodoIDE" class="twitter-follow-button" data-show-count="false" data-dnt="true">Follow @KomodoIDE</a>

                    <a href="https://twitter.com/share" class="twitter-share-button" data-text="<%= @getPreparedSocialDescription() %>" data-dnt="true">Tweet</a>

                    <p>&nbsp;</p>

                    <script>
                        document.write('<div class="fb-like" data-href="'+location.href+'" data-layout="button" data-action="recommend" data-show-faces="false" data-share="true"></div>');
                    </script>

                    <h3>Communicate</h3>
                    <%- @getAsList(@db.footer().nav.communicate) %>
                </div>
                <div class="newsletter">
                    <!--
                    <form>
                        <h3>Newsletter Sign Up</h3>
                        <input type="text" placeholder="Enter your E-Mail address"/>
                    </form>
                    -->

                    <p>
                        ActiveState Software Inc.
                        Suite 1700-409 Granville St.,
                        Vancouver, BC,
                        V6C 1T2, Canada
                    </p>
                    <p>&nbsp;</p>
                    <p>
                        General Enquiries: 778.786.1100 <br>
                        Fax: 778.786.1133 <br>
                        Sales: 1.866.631.4581
                    </p>
                    <p>&nbsp;</p>
                    <p class="copytrade">
                        © 2014 ActiveState Software Inc. All rights reserved. ActiveState®, Komodo®, ActivePerl®, ActivePython®, ActiveTcl®, and Stackato® are registered trademarks of ActiveState. All other marks are property of their respective owners.
                    </p>
                    <p>&nbsp;</p>
                    <p>
                        <a href="/privacy">Privacy Policy</a>
                    </p>
                </div>
            </div>
        </footer>

        <!-- Scripts -->
        <script>
        //<![CDATA[
            window.twttr = (function (d,s,id) {
            var t, js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
            js.src="https://platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
            return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
            }(document, "script", "twitter-wjs"));
            twttr.ready(function (twttr) {
                twttr.events.bind('tweet', function (event) {
                    if (_gak) _gaq.push(['_trackSocial', "Twitter", "Tweet"]);
                    $.event.trigger({
                        type: "pageShared",
                        url: event.target.baseURI,
                        network: "Twitter",
                        action: "Tweet"
                    });
                });
            });

            (function(d, s, id) {
              var js, fjs = d.getElementsByTagName(s)[0];
              if (d.getElementById(id)) return;
              js = d.createElement(s); js.id = id;
              js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=252636704908473&version=v2.0";
              fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));
            window.fbAsyncInit = function() {
                // init the FB JS SDK

                FB.Event.subscribe('edge.create', function(href, widget) {
                    $.event.trigger({
                        type: "pageShared",
                        url: href,
                        network: "Facebook",
                        action: "like"
                    });
                });
            };
        //]]>
        </script>
        
        <%- @getBlock('scripts').add(@getGruntedScripts()).toHTML() %>
    </body>
</html>
